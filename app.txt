import streamlit as st
from streamlit_chat import message
from assistant import Assistant
from langchain.callbacks import StreamlitCallbackHandler
 
assistant = Assistant()
assistant.initialize()

st.title("Chatbot Demo")

def chatbot_response(prompt):
    return assistant.get_answer(prompt)

def get_response():
    if st.session_state.prompt:
        prompt = st.session_state.prompt
        response = chatbot_response(prompt)
        message(prompt, is_user=True,logo=None,avatar_style=None)
        message(response,logo=None,avatar_style=None) 



st.chat_input("Say something",on_submit=get_response,key="prompt")
    